### 03-190957 工学部システム創成学科 樋口颯也
# 日本の年収別人口分布の可視化Webアプリ

## プログラムの内容
- **第4回の課題で提出した可視化のプロットをもとに、Web上でリアルタイムにグラフを描くアプリケーションを作成した**
- 年収の分布がひと目で分かるように、10年のデータを可視化することができる
- 用いたもの:Flask,html,javascript,jQuery
- データ:[統計元データURL](https://www.e-stat.go.jp/stat-search/files?page=1&layout=datalist&toukei=00351000&bunya_l=03&tstat=000001012969&cycle=7&year=20180&month=0&tclass1=000001012970&result_back=1&result_page=1)
- 使用ファイル: static/plot1.js;templates/index0.html;03.csv;myapp.py

## 工夫したところ  
1. jQueryを用いたフォームの動的な生成  
2. チェックボックスのリアルタイムの描画
3. 普通のプロットのみではなく、エリアプロットを用いた直感的な可視化  
4. まず全体のデータ関係を見せ、その後ユーザーに気になるところを操作してもらうことで理解してもらうシステム設計
5. ボタンを無くしてしまうことで分かりやすさに配慮

プロットである以上、あまり対話するような部分もないので、分析のような形でユーザーがサイト上に取り組めることを目指して開発した。
エリアプロットでは生成方法が異なるので、一見大した変化ではなくてもルーテイングをうまく行う必要があった。  
また、対話的な動作を行うので、プロットするときや設定の決定用のボタンを排除し、フォームの作成のみにして分かりやすくなるように配慮している。
### ”対話的”な点  
- フォームの動的生成
- チェックボックスを起点にしたリアルタイム描画

特に、チェックするだけでグラフが移り変わっていくのは対話的であるのではないかと思っている。他にも、年月やボタンをいじるだけで遷移するようにはなっている。
## 苦労した点  
- 年収というバラけたデータを図示するにあたってjQueryを用いた動的制御を使ったこと  
- webフレームワークの基礎知識  

webの知識、例えばFlaskのルーティングやGetメソッドなどに慣れるのに時間がかかったため、思うように試行錯誤できるまでに時間がかかった。  
自分が過去にやったコードをそのまま移植したのでは対話的と言える箇所がほとんどなかったので、どのようにしてそれを実現させるかで悩んだ。
特に、プロットする対象の性質上、対話的な制御をしようとするとどうしても複雑な選択が必要になるので、フォームを任意に作れるようにしようと考えたのは良かったが、jQueryもといjavascriptにあまり明るくなかったので調べながら試行錯誤するのに苦労した。  
フォームを作って終わりではなく、そのデータをどうやって処理するかというのを考えて実装するのが難しかった。
## やりたりなかったこと  
- CSSなどの見栄え  
- 細かな修正
- 凡例をより分かりやすくすること  

今回やり足りなかったものとしては、まず細かな問題を修正することである。例えば、チェックボックスをいじった後に上のフォームをいじるとデフォルトの描画に戻ってしまうので、きちんと制御を見直したい。  
あまり開発時に知識がなかったのでもっとHTMLやJavascriptに詳しくなれば、実装の幅が広がると思う。勉強してもう一度自分のプログラムを見直してみると改善点が見つかるのではないかと感じた。
## コメント
webアプリの制作経験がなかったため、あまり壮大な構想をすると挫折しかねないと考え、手堅く以前のプロットを利用する形で実装を行った。
経験がなかったからこそ、比較的単純なアプリケーションであってもhtmlやjavascript,通信方式など基礎的な技術を理解している必要があったので勉強になった。
